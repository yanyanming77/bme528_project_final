{% extends "base.html" %}

{% block main %}
{% load static %}

<body style="background-image: url({% static 'myapp/images/bg2.png' %})" >
    <div class="container-fluid" style="padding-bottom: 30px; margin-top: -30px; ">
      <div class="container" style="margin-top: 30px; padding-top: 20px; padding-bottom: 20px;">
        <br>
      </div>
      <div class="container" style="background-color: #f6f7f7; width: 100%; margin-top: 100px; padding-top: 50px; padding-bottom: 40px; margin-left: auto; margin-right: auto; margin-top: 20px; font-size: 19px; padding-left: 20px; ">
        <h2 style="text-align: center;">Records in the Database</h2>
        <div style="text-align: center; margin-bottom: 30px; margin-top:10px">
          <button onclick="history.go(-1)">Go Back</button>
        </div>
        <!-- records retrieved from Sqlite -->
        <div>
            {% if all_records_list|length > 0 %}
            <div class="table-responsive" style="width:100%; overflow-y: auto; 
            height:700px; margin-left: auto; margin-right: auto; 
            background-color: white;margin-bottom: 50px;">

            <table  class="table table-striped table-bordered table-hover" style="width: 100%; table-layout: auto;">
              <thead class="thead-dark" style="position:sticky; top: 0;" scope="col">
              <tr>
                <th scope="col">Upload Date & Time (UTC)</th>
                <!-- patient info -->
                <th scope="col">Patient Name</th><th scope="col">Patient Birthday</th><th scope="col">Patient Sex</th>
                <th scope="col">Patient Ethnic Group</th> 
                <!-- study info -->
                <th scope="col">Study Instance UID</th><th scope="col">Study Date</th><th scope="col">Study Description</th>
                <!-- series info -->
                <th scope="col">Series Instance UID</th><th scope="col">Series Date</th><th scope="col">Series Discription</th>
                <th scope="col">Modality</th><th scope="col">Series Number</th><th scope="col">Physicians of Record</th>
                <th scope="col">Manufacturer</th>
                <!-- SOP -->
                <th scope="col">SOP Instance UI</th><th scope="col">SOP Class UID</th>
                <th scope="col">Image Type</th><th scope="col">Photo Metric Interpretation</th><th scope="col">Rescale Slope</th>
                <th scope="col">Rescale Intercept</th><th scope="col">Slice Location</th><th scope="col">Pixel Spacing</th>
                <th scope="col">Image Orientation Patient</th><th scope="col">Image Position Patient</th><th scope="col">Slice Thickness</th>
                <th scope="col">Body Part Examined</th>
                <!-- roi -->
                <th scope="col">ROI</th>
              </tr>
               </thead>    
               <tbody>
              {% for row in all_records_df.itertuples %}
               <tr>
                  <td>{{row.upload_time}}</td>
                  <!-- patient info -->
                  <td>{{row.patient_name}}</td><td>{{row.patient_birthday}}</td><td>{{row.patient_sex}}</td>
                  <td>{{row.patient_ethnic_group}}</td>
                  <!-- study info -->
                  <td>{{row.study_instance_uid}}</td><td>{{row.study_date}}</td><td>{{row.study_description}}</td>
                  <!-- series info -->
                  <td>{{row.series_instance_uid}}</td><td>{{row.series_date}}</td><td>{{row.series_description}}</td>
                  <td>{{row.modality}}</td><td>{{row.series_number}}</td><td>{{row.physicians_of_record}}</td>
                  <td>{{row.manufacturer}}</td>
                  <!-- SOP -->
                  <td>{{row.sop_instance_uid}}</td><td>{{row.sop_class_uid}}</td>
                  <td>{{row.image_type}}</td><td>{{row.photo_metric_interpretation}}</td><td>{{row.rescale_slope}}</td>
                  <td>{{row.rescale_intercept}}</td><td>{{row.slice_location}}</td><td>{{row.pixel_spacing}}</td>
                  <td>{{row.image_orientation_patient}}</td><td>{{row.image_position_patient}}</td><td>{{row.slice_thickness}}</td>
                  <td>{{row.body_part_examined}}</td>
                  <!-- roi -->
                  <td>{{row.roi_name}}</td>
              </tr> 
              {% endfor %}
              </tbody>
          </table>
          </div>
            {% endif %}
        </div>
    </div>
    </div>
</body>

{% endblock %} 